<!DOCTYPE html>
<html>
  <head>
    <title>Fundamental of Data Science for EESS</title>
    <meta charset="utf-8">
    <meta name="author" content="Daniel Vaulot" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
    <script src="libs/kePrint/kePrint.js"></script>
    <link rel="stylesheet" href="metropolis-dv.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






# Fundamental of Data Science for EESS


&lt;img src="img/course-logo.png" width="40%" style="display: block; margin: auto;" /&gt;

## R session 03 - Data wrangling

.font120[**Daniel Vaulot**]

2019-01-31

.pull-left[
&lt;img src="img/NTU-Logo-full-colour.png" width="50%" style="display: block; margin: auto auto auto 0;" /&gt;
]

.pull-right[
&lt;img src="img/logo_SBR.png" width="50%" style="display: block; margin: auto 0 auto auto;" /&gt;
]

---

class: middle

## Outline


.font150[
* Concept of tidy data
* Reading data
* Manipulating data
    * Columns
    * Rows
    * Joining tables
]

---

# Installation and Resources

.pull-left[
## Packages

* readxl  : Reading Excel files
* readr   : Reading and writing Text files

* dplyr : Filter and reformat data frames
* tidyr : Make data "tidy"

* stringr :  Manipulating strings
* lubridate : Manipulate date
    

## Resources
* On-line Book: https://r4ds.had.co.nz/ (Chapter 5)

* Cheat sheets
    * Importing data : https://github.com/rstudio/cheatsheets/raw/master/data-import.pdf
    * Cleaning up data : https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf
    * Manipulating strings : https://github.com/rstudio/cheatsheets/raw/master/strings.pdf
]

.pull-right[

&lt;img src="img/R_for_datascience.png" width="65%" style="display: block; margin: auto;" /&gt;
]

---


# Tidy data


1. Each variable must have its own column.
2. Each observation must have its own row.
2. Each value must have its own cell.

&lt;img src="img/tidy-data.png" width="100%" style="display: block; margin: auto;" /&gt;

---

# Initialize

## Load necessary libraries



```r
library("readxl")  # Import the data from Excel file
library("readr")  # Import the data from Excel file

library("dplyr")  # filter and reformat data frames
library("tidyr")  # make data tidy

library("stringr")  # manipulate strings
library("lubridate")  # manipulate date 

library("ggplot2")  # graphics
```

---
layout: true

# Oceanographic data

---

## CARBOM cruise off Brazil

.pull-left[
&lt;img src="img/carbom_cruise.png" width="100%" style="display: block; margin: auto;" /&gt;


]

--

.pull-right[

* Stations
* Depth
* Coordinates
* Temperature, Salinity
* Nitrates, Phosphates

&lt;img src="img/carbom_isme.png" width="100%" style="display: block; margin: auto;" /&gt;
]
---

## Microbial populations

.pull-left[
&lt;img src="img/picopk-domi.png" width="100%" style="display: block; margin: auto;" /&gt;
]

--

.pull-right[
&lt;img src="img/carbom_flow_cytometry.png" width="80%" style="display: block; margin: auto;" /&gt;
]
* Flow cytometry : 
    * pico-eukaryotes
    * nano-eukaryotes
    

---
layout: true

# Read data

---

## Text file - TAB delimited

&lt;img src="img/carbom_txt.png" width="100%" style="display: block; margin: auto;" /&gt;

---

## Reading a text file


```r
samples &lt;- readr::read_tsv("data/CARBOM data.txt")
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; sample number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.21 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 18/11/2013 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

--

- __readr::read_tsv()__ : read tab delimited files
- __readr::read_csv()__ : read comma delimited files

- __readr::write_tsv()__ : write tab delimited files


---

## Excel sheet

&lt;img src="img/carbom_excel.png" width="100%" style="display: block; margin: auto;" /&gt;

---

## Read the data - read_excel


```r
samples &lt;- readxl::read_excel("data/CARBOM data.xlsx", sheet = "Samples_boat")
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.21 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* Can also select a range : e.g. A1:Q26
* Can skip lines

---

## Bad data input under Excel
&lt;br&gt;

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 0.23 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 22.6 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 33.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 0.56 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 0.21 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 20.3 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 23.7 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 37.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;background-color: lightyellow;"&gt; 37.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* There are missing values in the column __station__ because only recorded when changed

---

## Filling missing values - fill

```r
samples &lt;- tidyr::fill(samples, station)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.21 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* All missing values have been filled in.


---
# dplyr - Manipulate  tables


&lt;img src="img/dplyr.jpg" width="75%" style="display: block; margin: auto;" /&gt;

@allison_horst

---
layout: true

# Manipulate columns

---

## List columns


```r
colnames(samples)
```

```
 [1] "sample number" "transect"      "station"       "date"         
 [5] "time"          "depth"         "level"         "latitude"     
 [9] "longitude"     "picoeuks"      "nanoeuks"      "phosphates"   
[13] "nitrates"      "temperature"   "salinity"     
```

---

## Summarize columns


```r
summary(samples$depth)
```

```
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
    5.0     5.0    50.0    56.6   100.0   140.0       3 
```

---

## Select specific columns - select


```r
samples_select &lt;- dplyr::select(samples, transect, `sample number`, station, 
    depth, latitude, longitude, picoeuks, nanoeuks)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; sample number &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
.warning[
* Column names are not "quoted" (in base R you need to "quote" the column names)
* Better not to put space in column header because then must enclose column name with  \` (back-quote)]

---
## Select a range of columns - select


```r
samples_select &lt;- dplyr::select(samples, transect:nanoeuks)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---


## Unselect columns - select


```r
samples_select &lt;- dplyr::select(samples, -nitrates, -phosphates)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Using the pipe operator - %&gt;% 


```r
samples_select &lt;- samples %&gt;% dplyr::select(transect:nanoeuks)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* It is cleaner to write on 2 lines


```r
  samples_select &lt;- samples %&gt;% 
    dplyr::select(transect:nanoeuks)
```

---

## Renaming variables - rename


```r
samples &lt;- samples %&gt;% dplyr::rename(sample_number = `sample number`)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.21 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Creating new variables - mutate


```r
  samples &lt;- samples %&gt;% 
    dplyr::mutate(pico_pct = picoeuks/(picoeuks+nanoeuks)*100)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pico_pct &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 72.68293 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 90.99124 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 93.87755 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.7 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 88.84910 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.21 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 78.47286 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 70.36024 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.2 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 60.88044 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.0 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 93.80143 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 86.34206 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 57.73672 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* You can also use __transmute()__ but then it will drop all the other columns.
* It is much much better to compute new variables in R than in Excel, because you can easily track and correct errors.

---

## Using the pipe operator you can chain operations


```r
  samples_select &lt;- samples  %&gt;% 
    dplyr::select(sample_number:nanoeuks, level) %&gt;% 
    dplyr::mutate(pico_pct = picoeuks/(picoeuks+nanoeuks)*100)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pico_pct &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 72.68293 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 90.99124 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 93.87755 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 88.84910 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 78.47286 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 70.36024 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 60.88044 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 93.80143 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 86.34206 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 57.73672 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Creating labels with mutate and stringr functions


```r
  samples &lt;- samples %&gt;% 
    dplyr::mutate(sample_label = str_c("TR",transect,"St",station, sep="_"))
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; sample_label &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 01:00:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_1_St_81 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 13:30:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_1_St_85 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_2_St_96 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_2_St_96 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 23:50:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_2_St_96 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_2_St_98 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_2_St_98 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 05:00:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_2_St_98 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 17:00:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_1_St_86 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1899-12-31 12:00:00 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; TR_2_St_101 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Changing type of some columns - mutate


```r
  samples &lt;- samples %&gt;% 
    dplyr::mutate(time = str_c(lubridate::hour(time), 
                               lubridate::minute(time), sep=":"))
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pico_pct &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.68293 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 90.99124 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 93.87755 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 88.84910 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.56 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.21 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 78.47286 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70.36024 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60.88044 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 93.80143 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 17:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 86.34206 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 12:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 57.73672 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* Use the `lubridate` package to manipulate dates



---
layout: true

# Manipulating rows

---
## Order rows - arrange


```r
samples &lt;- samples %&gt;% dplyr::arrange(transect, station)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pico_pct &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-02 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -25.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -40.36 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1005 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 898 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.48 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52.81135 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 21 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-02 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 0:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -40.09 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 793 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 660 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 54.57674 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 26 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-03 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 19:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.31 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -39.38 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 907 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 856 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51.44640 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-10-31 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 45 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -23.58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -41.78 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7651 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4845 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.07 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 61.22759 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-10-31 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 45 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -23.58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -41.78 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7343 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3258 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.07 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 69.26705 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.68293 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3181 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1235 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.03351 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 90.99124 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 17:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 86.34206 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; 87 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 19:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.48 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6189 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 622 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.51 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 90.86771 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
* Station 6 is not ordered numerically.  It is because __station__ is a character column.

---

## Order rows - transform to numeric


```r
  samples &lt;- samples %&gt;% 
    dplyr::mutate(station = as.numeric(station)) %&gt;% 
    dplyr::arrange(transect, station)
```

```
Warning in evalq(as.numeric(station), &lt;environment&gt;): NAs introduced by
coercion
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pico_pct &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-10-31 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 45 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -23.58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -41.78 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7651 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4845 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.07 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 61.22759 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-10-31 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 45 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -23.58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -41.78 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7343 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3258 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.07 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 69.26705 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-02 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -25.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -40.36 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1005 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 898 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.48 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52.81135 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 21 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-02 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 0:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -40.09 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 793 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 660 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 54.57674 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 26 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-03 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 19:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.31 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -39.38 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 907 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 856 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51.44640 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.68293 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3181 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1235 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.26 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 72.03351 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 90.99124 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 17:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.34 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 86.34206 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 87 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 19:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.48 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6189 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 622 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.47 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.51 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 90.86771 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* One station named "Bloom" could not be converted to numerical (-&gt; NA)

---

## Summarize rows - group_by / summarize

* Group by transect and station
* Compute mean of the percent picoplankton


```r
  samples_mean &lt;- samples %&gt;% 
    dplyr::group_by(transect, station) %&gt;% 
    dplyr::summarise(n_samples = n(), 
              mean_pico_percent = mean(pico_pct, na.rm=TRUE))
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n_samples &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; mean_pico_percent &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 65.24732 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 52.81135 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 54.57674 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 26 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 51.44640 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 72.35822 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 90.99124 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 86.34206 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 87 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 90.86771 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 87.06651 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 75.01403 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Filtering rows - filter

* Get only the surface samples


```r
samples_surf &lt;- samples %&gt;% dplyr::filter(level == "Surf")
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; phosphates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nitrates &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; temperature &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; salinity &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pico_pct &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-02 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -25.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -40.36 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1005 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 898 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.48 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52.81135 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-02 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 0:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.23 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -40.09 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 793 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 660 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.16 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.90 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 54.57674 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 26 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-03 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 19:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.31 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -39.38 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 907 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 856 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 51.44640 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.43 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.19 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 93.87755 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 35.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70.36024 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.14 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 57.73672 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 155 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 106 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-19 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -28.12 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.17 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 355 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.37 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 23.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 95.17426 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 165 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 114 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-19 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 21:40 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -28.65 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.99 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 728 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.28 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 36.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76.31027 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Trichod.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1002 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 194 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 83.77926 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Trichod.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 744 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 206 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 78.31579 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* ! Use the logical operators __==__ != &gt; &gt;= &lt; &lt;= is.na()

---
layout: true

# Joining tables

---

&lt;img src="img/sql_inner_join.png" width="60%" style="display: block; margin: auto;" /&gt;

---

Very often you have tables that contain a common field and that you need to __join__ together. 

--

A common example in oceanography.  After a cruise you have many tables

Tables :
* Stations - Station #, Longitude, Latitude
* Cast (CTD) - Station #, Cast #, Depth, Temp, Sal (continuous)
* Bottles - Cast #, Depth, Bottle #  
* Water samples - Bottle #, Sample #
* Biological samples - Sample #, Analysis #

You want to know the Longitude and Latitude of a given biological sample.

--

Analysis # -&gt; Sample # -&gt; Bottle # -&gt; Cast # -&gt; Station # -&gt; Long, Lat

In order to join 2 tables, they must have a common field. It is called the __KEY__. 

For example it can be Bottle #, Station #


---

## Sequence samples (metabarcoding)

* Each sample has been split into 2 fractions by sorting : pico- and nano
* These separate samples have then been sequenced to determine the composition of the plankton community

--

&lt;img src="img/carbom_excel_sequences.png" width="50%" style="display: block; margin: auto;" /&gt;

---

## Reading table with sequence samples


```r
  sequences &lt;- readxl::read_excel("data/CARBOM data.xlsx", 
                           sheet = "Samples_sequencing") 
```


&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; fraction &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n_sequences &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 53230 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 47390 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31899 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70455 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---
* Table sequences
&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; fraction &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n_sequences &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 53230 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 47390 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31899 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70455 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* Table samples

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

* The two tables have a common field called __sample_number__ (KEY).

---

## Joining sequence and sample tables.


```r
sequences_join &lt;- left_join(sequences, samples_select)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; fraction &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n_sequences &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 53230 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 47390 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31899 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70455 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76182 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X121n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52401 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X121p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71785 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X122n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 78740 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X122p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37364 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Joining columns with different names

* If the __KEY__ do not have the same name in the two tables it is possible to specify the name of the two columns used for joining.


```r
  sequences &lt;- sequences %&gt;% 
    rename(sample_code = sample_number)
```
--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; sample_code &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; fraction &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n_sequences &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 53230 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 47390 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31899 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70455 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76182 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X121n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52401 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X121p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71785 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X122n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 78740 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X122p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37364 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Joining columns with different names


```r
  sequences_join &lt;- left_join(sequences, samples_select, 
                            by= c("sample_code" = "sample_number"))
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; sample_code &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; fraction &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n_sequences &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 53230 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 47390 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 81 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.42 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -44.72 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3278 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1232 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31899 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70455 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76182 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X121n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52401 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X121p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71785 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X122n &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 78740 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X122p &lt;/td&gt;
   &lt;td style="text-align:left;background-color: lightyellow;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 37364 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Joining with missing data

* Let us remove some samples from the sample table


```r
  samples_select &lt;- samples_select %&gt;% 
    filter(sample_number != "10")
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1737 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 218 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 853 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 234 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3086 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1300 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1217 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 782 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 226 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 17:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6366 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 500 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 366 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 141 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1046 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 485 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

## Joining with missing data


```r
  sequences_join &lt;- left_join(sequences, samples_select, 
                            by= c("sample_code" = "sample_number"))
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; sample_code &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; fraction &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n_sequences &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10n &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 53230 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X10p &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 47390 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11n &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 24007 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X11p &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 31899 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 16312 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1615 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120n &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nano &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70455 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; X120p &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pico &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 76182 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1150 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 75 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

.student[
* What happened ?
]

---
layout: true

# Wide vs long tables

---

&lt;img src="img/tidyr.jpg" width="70%" style="display: block; margin: auto;" /&gt;

@allison_horst

---

## Go from wide to long - gather

&lt;img src="img/gathering.png" width="100%" style="display: block; margin: auto;" /&gt;

* This is very useful for statistical and plotting purposes

---

## Go from wide to long - gather


```r
  samples_long &lt;- samples_select  %&gt;% 
    tidyr::gather(key="population", value="cell_ml", picoeuks, nanoeuks)
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; population &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; cell_ml &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 16312 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1150 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1737 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 853 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 3086 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1217 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 3420 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 17:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 6366 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 500 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 141 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;background-color: lightyellow;"&gt; picoeuks &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1046 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
---

## Go from long to wide - spread

&lt;img src="img/spreading.png" width="80%" style="display: block; margin: auto;" /&gt;

---

## Go from long to wide - spread


```r
  samples_wide &lt;- samples_long  %&gt;% 
    tidyr::spread(key="population", value="cell_ml")
```

--

&lt;table class="table table-striped table-hover table-condensed" style="font-size: 9px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; sample_number &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; transect &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; station &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; date &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; time &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; depth &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; latitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; longitude &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; nanoeuks &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; picoeuks &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-10-31 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:20 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 45 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -23.58 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -41.78 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 4845 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 7651 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13:30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.80 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.30 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1615 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 16312 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 120 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 75 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1150 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 121 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 218 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1737 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 122 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 23:50 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.39 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.82 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 234 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 853 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 125 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1300 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 3086 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 126 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 782 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1217 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 127 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 85 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -47.39 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 226 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 3420 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 86 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 17:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 105 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deep &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -26.33 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -45.41 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 1007 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 6366 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 101 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2013-11-18 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12:0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Surf &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -27.79 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -46.96 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 366 &lt;/td&gt;
   &lt;td style="text-align:right;font-weight: bold;background-color: lightyellow;"&gt; 500 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---
layout: false

# Next time: Data visualization (ggplot2)

.pull-left[
What you will learn :
* Understand the "grammar" of graphics
* Create exploratory graphics
* Finalize graphics for publications
]

.pull-right[

&lt;img src="img/R_for_datascience.png" width="30%" style="display: block; margin: auto;" /&gt;
]

.student[
* Please install the following packages and their dependencies
    * ggplot2
    * cowplot
* Download data files (links on slack)

]
Reading list
* **[Chapter 28 of R for data science](https://r4ds.had.co.nz/graphics-for-communication.html)**
* [Fundamental of data visualization](https://serialmentor.com/dataviz/)
* [Data visualization: practical introduction](http://socviz.co/lookatdata.html#what-makes-bad-figures-bad)
    </textarea>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "tomorrow-night-blue",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
